<!-- Chunk 97 | Source: 2009 Apple Human Interface Guidelines.pdf | Est. Tokens: 1993 -->
<span id="page-89-3"></span>If you need to update an already installed application, you should provide an installer that modifies only the files required for the new version. Remember that files may have been renamed or moved; don't look only in the Applications directory and don't rely exclusively on filenames to identify your application files. Instead, check for creation and modification dates, version numbers, file size, and so on to uniquely identify your application. If you detect multiple versions of your application, provide information about each, such as the location and creation date, so that the user can choose which one to update.  
<span id="page-89-1"></span>Macintosh users are accustomed to using Software Update in System Preferences to upgrade the operating system and system software. Upgrading the operating system has implications different from those for upgrading a third-party application, however, and the user experiences for these procedures must reflect this. Third-party applications should not attempt to duplicate the user experience of Software Update. If you want to provide your users with automatic updates, offer a streamlined and consistent user experience following the guidelines in this section.  
The goal of a software update mechanism is to be convenient, yet unobtrusive. To achieve this, it's essential that your application perform all software update procedures at launch time *only*. In particular, you should avoid checking for updates using a background process or standalone, faceless utility that executes independently of your application. If the user is unaware that such a process is running even after your application quits, the random appearance of update notifications will be unexpected and may be unsettling.  
**Note:** If you provide a first-time user experience with your application,such as a setup assistant, it's appropriate to perform a check for available updates while the user is engaged in this task. If a newer version of your application is available, allow the user to upgrade immediately, before the user begins working with the currently installed version. On subsequent launches, follow the guidelines below.  
To provide a convenient application-update experience, follow these steps:  
- **1.** When your application fully launches the first time after installation, start a separate thread that checks for updates.
- **2.** If a newer version is available, keep track of this fact in your application. Do not notify the user at this time.
- **3.** The *next* time your application launches, check the state of update availability you determined in step 2. If a newer version is available, immediately notify the user.  
If a newer version is not available, start a separate thread to check for updates and keep track of the results in your application. Do not notify the user at this time.  
Your application then repeats step 3 every time it launches. If the user chooses to install a newer version, the upgraded application begins again with step 1.  
Using this method confers several advantages:  
- You avoid slowing launch time by using a separate thread after your application launches.
- Checking for updatesfrequently involves making an Internet connection. If you do this on the application's main thread, it can significantly slow your launch time.
- Users will appreciate receiving an update notification consistently and immediately at launch time, rather than at random times during their work.
- Because the display of the update notification depends on the quick check of an internal state (not on the completion of a potentially lengthy search for available updates) you ensure it always arrives immediately at launch time.
- You do not have to design additional dialogs that ask the user if update checks should be performed while your application is running.
- You avoid startling the user with unexpected and intrusive update notifications that occur outside the context of your running application.  
<span id="page-90-0"></span>Allow the user to customize the software update behavior in your preferences window. A user should have the option to allow automatic software updates and the ability to check for updates immediately. [Figure](#page-90-0) [7-3](#page-90-0) (page 91) shows an example of how a sample preferences window can be modified to do this.  
**Figure 7-3** An application-update preferences window  
![](images/_page_90_Picture_12.jpeg)  
When your application checks its internal update state and finds that a newer version is available, display an alert that describes the type and availability of the update and gives the user the option to get the new version. You can customize the alert for a free or for-purchase update. [Figure](#page-91-0) 7-4 (page 92) shows how the alert for a free update should look.  
<span id="page-91-0"></span>**Figure 7-4** An alert to describe the availability of a free application update  
![](images/_page_91_Picture_3.jpeg)  
Each element of the alert shown in [Figure](#page-91-0) 7-4 (page 92) is required. In many cases, the only changes you need to make are to replace *MyApplication* and *MyCompany* with your application and company names and to badge the caution icon with your application icon. Note that it is important to display the caution icon in this alert because the installation of software has the potential to destroy user data. For more information about the components of an alert (and using the caution icon),see "The [Elements](#page-237-1) of an Alert" (page 238) You might also choose to replace the phrase "newer version of" with a phrase like "minor update to", if appropriate.  
The software update alert in [Figure](#page-91-0) 7-4 (page 92) displays the main message in emphasized (bold) system font and the explanatory text in smallsystem font. A simplified alert (one that displays only the main message) is not used here because it does not give the user enough information to customize the update process.  
The three required alert buttons shown in [Figure](#page-91-0) 7-4 (page 92) describe the actions the user can take. Each button leads to a specific set of actions your application should perform:  
- The Change Preferences default button removes the alert and opens the software update preferences window. After the user adjusts the software update preferences and dismisses the preferences window, your application resumes.
- The Ask Again Later button leaves the internal update state unchanged and removes the alert. Because the state is still set to indicate the availability of an update, the alert will appear again the next time the user launches your application.
- The Upgrade Now button resets the internal state, removes the alert, and initiates a download of the new software. After the download is complete, your application asksthe user to save all open documents and updates with the downloaded version.  
If you offer a software update for purchase, you should use an alert like the one shown in [Figure](#page-92-0) 7-5 (page 93)  
<span id="page-92-0"></span>**Figure 7-5** An alert to describe the availability of a for-purchase upgrade  
![](images/_page_92_Figure_3.jpeg)  
The alert in Figure 7-5 is different from the alert for a free software update in two ways:  
- The main message clearly states that the new version of the software is for purchase and the question leads the user to click the Learn More button if they're interested in receiving the upgrade.
- The Learn More button resets the application's internal state, removes the alert, and leads to your company's website where the user can learn more about the update and select a purchasing option. If the user chooses to upgrade the software, a bundle or installation package should be downloaded independently of the currently running application. The user can then install the update when it's convenient.  
#### **CHAPTER 7**  
Software Installation and Software Updates